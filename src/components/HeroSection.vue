<template>
    <section id="about" class="mt-24">
        <div class="max-w-screen-xl px-4 py-8 mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 mb-4">
            <div class="lg:col-span-2">
                <div class="mr-auto place-self-center lg:col-span-7 py-12">
                    <h2
                        class="max-w-xl mb-2 text-5xl md:text-7xl tracking-tight leading-none xl:text-7xl dark:text-white text-black text-center lg:text-left whitespace-nowrap display:inline">
                        Hi, I am Prasanth <span class="wave">ðŸ‘‹</span></h2>
                    <p
                        class="leading-8 max-w-2xl mb-6 font-light text-gray-500 text-xl lg:mb-8 md:text-lg lg:text-2xl dark:text-gray-100 text-gray-800 text-center lg:text-left">
                        A software engineer dedicated to exploring different technologies and applying learning in
                        practical environments. </p>
                    <p
                        class="lesading-8 max-w-2xl mb-6 font-light text-gray-500 text-xl lg:mb-8 md:text-lg lg:text-2xl dark:text-gray-100 text-gray-800 text-center lg:text-left ">
                        Some of my recent works include <span id="e1">smart energy management systems</span> and <span
                            id="e2"> molecular modelling using machine learning and HPC</span></p>
                    <div class="flex justify-center lg:justify-start gap-4">
                        <a href="https://github.com/devireddyprasanth22" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0,0,256,256">
<g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M17.791,46.836c0.711,-0.306 1.209,-1.013 1.209,-1.836v-5.4c0,-0.197 0.016,-0.402 0.041,-0.61c-0.014,0.004 -0.027,0.007 -0.041,0.01c0,0 -3,0 -3.6,0c-1.5,0 -2.8,-0.6 -3.4,-1.8c-0.7,-1.3 -1,-3.5 -2.8,-4.7c-0.3,-0.2 -0.1,-0.5 0.5,-0.5c0.6,0.1 1.9,0.9 2.7,2c0.9,1.1 1.8,2 3.4,2c2.487,0 3.82,-0.125 4.622,-0.555c0.934,-1.389 2.227,-2.445 3.578,-2.445v-0.025c-5.668,-0.182 -9.289,-2.066 -10.975,-4.975c-3.665,0.042 -6.856,0.405 -8.677,0.707c-0.058,-0.327 -0.108,-0.656 -0.151,-0.987c1.797,-0.296 4.843,-0.647 8.345,-0.714c-0.112,-0.276 -0.209,-0.559 -0.291,-0.849c-3.511,-0.178 -6.541,-0.039 -8.187,0.097c-0.02,-0.332 -0.047,-0.663 -0.051,-0.999c1.649,-0.135 4.597,-0.27 8.018,-0.111c-0.079,-0.5 -0.13,-1.011 -0.13,-1.543c0,-1.7 0.6,-3.5 1.7,-5c-0.5,-1.7 -1.2,-5.3 0.2,-6.6c2.7,0 4.6,1.3 5.5,2.1c1.699,-0.701 3.599,-1.101 5.699,-1.101c2.1,0 4,0.4 5.6,1.1c0.9,-0.8 2.8,-2.1 5.5,-2.1c1.5,1.4 0.7,5 0.2,6.6c1.1,1.5 1.7,3.2 1.6,5c0,0.484 -0.045,0.951 -0.11,1.409c3.499,-0.172 6.527,-0.034 8.204,0.102c-0.002,0.337 -0.033,0.666 -0.051,0.999c-1.671,-0.138 -4.775,-0.28 -8.359,-0.089c-0.089,0.336 -0.197,0.663 -0.325,0.98c3.546,0.046 6.665,0.389 8.548,0.689c-0.043,0.332 -0.093,0.661 -0.151,0.987c-1.912,-0.306 -5.171,-0.664 -8.879,-0.682c-1.665,2.878 -5.22,4.755 -10.777,4.974v0.031c2.6,0 5,3.9 5,6.6v5.4c0,0.823 0.498,1.53 1.209,1.836c9.161,-3.032 15.791,-11.672 15.791,-21.836c0,-12.682 -10.317,-23 -23,-23c-12.683,0 -23,10.318 -23,23c0,10.164 6.63,18.804 15.791,21.836z"></path></g></g>
</svg>
                        </a>
                        <a href="https://www.linkedin.com/in/prasanth-devireddy/" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0,0,256,256">
<g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z"></path></g></g>
</svg>
                        </a>
                        <a href="https://drive.google.com/file/d/13MQDxjpp06b1i3LHvjvVKg9IXTjuYRwA/view?usp=sharing"
                            target="_blank" class="mt-2">
                            <button
                                class="cursor-pointer flex justify-between bg-gray-800 px-3 py-2 rounded-full text-white tracking-wider shadow-xl hover:bg-gray-600 hover:scale-105 duration-500 hover:ring-1 font-mono w-[120px]">
                                Resume
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                                    stroke="currentColor" class="w-5 h-5 animate-bounce">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"></path>
                                </svg>
                            </button>
                        </a>
                    </div>
                    <TechStack class="mt-8"></TechStack>

                </div>
            </div>
            <div class="lg:col-span-1">
                <div id="carousel" class="rounded-lg shadow-lg overflow-hidden"
                    style="height: 500px; position: relative;">
                    <div class="carousel-container" style="position: relative; height: 100%; width: 100%;">
                        <img class="carousel-image" src="@/assets/images/carousel/hero_pic.png" alt="Hero">
                        <img class="carousel-image" src="@/assets/images/carousel/boulder1.png" alt="Boulder">
                        <img class="carousel-image" src="@/assets/images/carousel/photo.png" alt="Photo">
                        <img class="carousel-image" src="@/assets/images/carousel/fyp.png" alt="Photo">
                        <img class="carousel-image" src="@/assets/images/carousel/ocean.png" alt="Photo">
                    </div>
                </div>
                <!-- <button id="prev"
                    class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-2 rounded-l-lg opacity-75 hover:opacity-100 transition-opacity -left-10">â€¹</button>
                <button id="next"
                    class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-2 rounded-r-lg opacity-75 hover:opacity-100 transition-opacity -right-10">â€º</button>
            -->
            </div>
        </div>

    </section>
</template>
<style scoped>
.wave {
    animation-name: wave-animation;
    /* Refers to the name of your @keyframes element below */
    animation-duration: 2.5s;
    /* Change to speed up or slow down */
    animation-iteration-count: infinite;
    /* Never stop waving :) */
    transform-origin: 70% 70%;
    /* Pivot around the bottom-left palm */
    display: inline-block;
}

.carousel-container {
    position: relative;
}

.carousel-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

.carousel-image.active {
    opacity: 1;
}


@keyframes wave-animation {
    0% {
        transform: rotate(0.0deg)
    }

    10% {
        transform: rotate(14.0deg)
    }

    /* The following five values can be played with to make the waving more or less extreme */
    20% {
        transform: rotate(-8.0deg)
    }

    30% {
        transform: rotate(14.0deg)
    }

    40% {
        transform: rotate(-4.0deg)
    }

    50% {
        transform: rotate(10.0deg)
    }

    60% {
        transform: rotate(0.0deg)
    }

    /* Reset for the last half to pause */
    100% {
        transform: rotate(0.0deg)
    }
}
</style>
<script setup lang="ts">
import { onMounted } from 'vue';
import { annotate, annotationGroup } from 'rough-notation';
import TechStack from '@/components/TechStack.vue'

// Carousel functionality
onMounted(() => {
    // Carousel setup
    const images = document.querySelectorAll('.carousel-image') as NodeListOf<HTMLElement>;
    const prevButton = document.getElementById('prev') as HTMLElement;
    const nextButton = document.getElementById('next') as HTMLElement;
    let currentIndex = 0;
    let interval: number;

    const showImage = (index: number) => {
        images.forEach((img, i) => {
            img.classList.toggle('active', i === index);
        });
    };

    const nextImage = () => {
        currentIndex = (currentIndex + 1) % images.length;
        showImage(currentIndex);
    };

    const prevImage = () => {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        showImage(currentIndex);
    };

    const startCarousel = () => {
        interval = window.setInterval(nextImage, 5000);
    };

    const stopCarousel = () => {
        clearInterval(interval);
    };

    // Initialize first image
    showImage(currentIndex);

    if (prevButton && nextButton) {
        prevButton.addEventListener('click', () => {
            stopCarousel();
            prevImage();
            startCarousel();
        });

        nextButton.addEventListener('click', () => {
            stopCarousel();
            nextImage();
            startCarousel();
        });
    }

    startCarousel();

    // Rough Notation functionality
    const e1: HTMLElement | null = document.querySelector('#e1');
    const e2: HTMLElement | null = document.querySelector('#e2');

    if (e1 && e2) {
        const a1 = annotate(e1, {
            type: 'underline',
            color: 'red',
            multiline: true,
            animationDuration: 1000,
            iterations: 1,
        });
        const a2 = annotate(e2, {
            type: 'underline',
            color: 'red',
            multiline: true,
            animationDuration: 1000,
            iterations: 1,
        });
        const arr = annotationGroup([a1, a2]);
        arr.show();
    }
});
</script>
